<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.guanyitong.mapper.RechargeMoneyDao">

    <select id="listRechargeSheetVo" parameterType="java.util.Map" resultType="com.guanyitong.model.vo.RechargeSheetVo">
      SELECT
            r.*,a.bankAddress,a.bankName,a.bankNum,a.createTime,a.idCard,a.realName
            FROM
	        recharge_money r
            LEFT JOIN account_manager a ON r.userId = a.userId
            WHERE 1=1
            <if test="serial!=null and serial!=''">
	              AND r.serial =#{serial}
            </if>
            <if test="userId!=null and userId!=''">
                  AND r.userId = #{userId}
            </if>
            <if test="realName!=null and realName!=''">
                  AND a.realName = #{realName}
            </if>
            <if test="firstMoney!=null and lastMoney!=null">
                AND cast(r.rechargeMoney AS signed INT) BETWEEN #{firstMoney}
                AND #{lastMoney}
            </if>
            <if test="firstDate!=null and lastDate!=null">
                AND r.rechargeTime BETWEEN #{firstDate} and #{lastDate}
            </if>
            <if test="status!=null and status!=''">
                AND r.`status`=#{status}
            </if>
    </select>


</mapper>
